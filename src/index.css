@import url("https://fonts.googleapis.com/css2?family=Press+Start+2P&family=VT323&display=swap");

:root{
  --ink:#1f1f1f;
  --paper: rgba(255,255,255,0.92);

  --win: rgba(255,255,255,0.88);
  --tile: rgba(255,255,255,0.12);

  --border:#1f1f1f;
  --shadow:#121212;

  --pink:#ffd6e8;
  --mint:#c8f7dc;
  --sky:#cfe7ff;
  --cream:#fff3d6;
}

*{ box-sizing:border-box; }
html,body{ height:100%; margin:0; }
body{
  font-family:"VT323", system-ui, -apple-system, Segoe UI, Roboto, Arial;
  color:var(--ink);
}

/* ✅ BACKGROUND (your pixel_bg.png) */
.bg{
  min-height:100vh;
  padding: 14px 14px 40px;
  background: url("./assets/pixel_bg.png");
  background-size: cover;
  background-position:center;
  background-attachment: fixed;
  position: relative;
  overflow: hidden;
}

/* ✅ MOVING CLOUD LAYERS (pure CSS, no extra images needed) */
.bg::before,
.bg::after{
  content:"";
  position:absolute;
  left: -40%;
  right: -40%;
  height: 220px;
  background-repeat: repeat-x;
  opacity: 0.55;
  pointer-events:none;
  image-rendering: pixelated;
}

/* Top cloud layer */
.bg::before{
  top: 30px;
  background-image:
    radial-gradient(circle at 40px 40px, rgba(255,255,255,0.85) 0 18px, transparent 19px),
    radial-gradient(circle at 70px 35px, rgba(255,255,255,0.85) 0 22px, transparent 23px),
    radial-gradient(circle at 105px 45px, rgba(255,255,255,0.85) 0 18px, transparent 19px),
    radial-gradient(circle at 140px 40px, rgba(255,255,255,0.85) 0 24px, transparent 25px),
    radial-gradient(circle at 180px 48px, rgba(255,255,255,0.85) 0 18px, transparent 19px);
  background-size: 220px 120px;
  animation: cloudsDrift 28s linear infinite;
  filter: blur(0.2px);
}

/* Mid cloud layer */
.bg::after{
  top: 120px;
  opacity: 0.35;
  background-image:
    radial-gradient(circle at 30px 30px, rgba(255,255,255,0.75) 0 14px, transparent 15px),
    radial-gradient(circle at 55px 26px, rgba(255,255,255,0.75) 0 16px, transparent 17px),
    radial-gradient(circle at 80px 34px, rgba(255,255,255,0.75) 0 14px, transparent 15px),
    radial-gradient(circle at 110px 30px, rgba(255,255,255,0.75) 0 18px, transparent 19px),
    radial-gradient(circle at 140px 36px, rgba(255,255,255,0.75) 0 14px, transparent 15px);
  background-size: 180px 90px;
  animation: cloudsDrift 45s linear infinite reverse;
}

@keyframes cloudsDrift{
  from { transform: translateX(0); }
  to   { transform: translateX(25%); }
}

/* HUD */
.hud{
  position: relative;
  z-index: 2;
  display:flex;
  justify-content: space-between;
  gap: 12px;
  align-items:flex-start;
  margin: 0 auto 14px;
  max-width: 1100px;
}

.logo{
  font-family:"Press Start 2P";
  font-size: 18px;
  letter-spacing: 1px;
  text-shadow: 2px 2px 0 rgba(0,0,0,0.12);
}

.hudMeta{
  margin-top: 8px;
  display:flex;
  gap: 8px;
  flex-wrap: wrap;
}

.chip{
  display:inline-flex;
  align-items:center;
  gap: 6px;
  padding: 6px 8px;
  border: 3px solid var(--border);
  background: var(--paper);
  box-shadow: 4px 4px 0 rgba(0,0,0,0.15);
  font-size: 16px;
}
.chip.small{ padding: 4px 6px; font-size: 14px; }

.hudRight{
  display:flex;
  gap: 10px;
  flex-wrap: wrap;
}

/* Buttons */
.pxBtn{
  font-family:"Press Start 2P";
  font-size: 11px;
  padding: 10px 10px;
  border: 4px solid var(--border);
  background: #fff;
  cursor:pointer;
  box-shadow: 6px 6px 0 var(--shadow);
  transform: translate(0,0);
}
.pxBtn:hover{ transform: translate(-1px,-1px); box-shadow: 7px 7px 0 var(--shadow); }
.pxBtn:active{ transform: translate(2px,2px); box-shadow: 4px 4px 0 var(--shadow); }
.pxBtn:disabled{ opacity:0.55; cursor:not-allowed; }
.pxBtn.ghost{ background: rgba(255,255,255,0.70); }

/* Layout */
.layout{
  position: relative;
  z-index: 2;
  max-width: 1100px;
  margin: 0 auto;
  display:grid;
  grid-template-columns: 1fr 1fr;
  gap: 14px;
}
.span2{ grid-column: 1 / -1; }
@media (max-width: 980px){
  .layout{ grid-template-columns: 1fr; }
  .span2{ grid-column: auto; }
}

/* Pixel Window */
.pxWin{
  background: var(--win);
  border: 5px solid var(--border);
  box-shadow:
    8px 8px 0 var(--shadow),
    0 0 0 4px rgba(255,255,255,0.35) inset;
  position: relative;
}

.pxWin::after{
  content:"";
  position:absolute; inset: 0;
  background:
    repeating-linear-gradient(0deg, var(--tile) 0 8px, rgba(0,0,0,0) 8px 16px),
    repeating-linear-gradient(90deg, var(--tile) 0 8px, rgba(0,0,0,0) 8px 16px);
  opacity: 0.35;
  pointer-events:none;
}

.pxBar{
  position: relative;
  z-index:1;
  display:flex;
  justify-content: space-between;
  align-items:center;
  padding: 10px 10px;
  border-bottom: 5px solid var(--border);
  background: linear-gradient(90deg, var(--pink), var(--mint), var(--sky));
}
.pxBarLeft{
  display:flex;
  gap: 10px;
  align-items:center;
}
.pxIcon{
  width: 24px;
  height: 24px;
  display:grid;
  place-items:center;
  border: 4px solid var(--border);
  background: #fff;
  font-family:"Press Start 2P";
  font-size: 12px;
}
.pxTitle{
  font-family:"Press Start 2P";
  font-size: 12px;
}
.pxBarRight{ display:flex; gap: 8px; align-items:center; }
.miniHint{ font-size: 14px; opacity: 0.85; }

.pxBody{
  position: relative;
  z-index: 1;
  padding: 12px;
}

/* Modal (unchanged) */
.backdrop{
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.45);
  display:grid;
  place-items:center;
  padding: 14px;
  z-index: 999;
}
.modalWin{
  width: min(980px, 100%);
}

/* ✅ Keep BOX sizes like before */
.charScreen{
  display:flex;
  flex-direction: column;
  align-items:center;
  gap: 8px;
}

.charFrame{
  width: 160px;     /* ✅ back to original */
  height: 160px;    /* ✅ back to original */
  border: 5px solid var(--border);
  background:
    linear-gradient(180deg, rgba(255,255,255,0.65), rgba(255,255,255,0.2)),
    repeating-linear-gradient(90deg, rgba(0,0,0,0.06) 0 8px, rgba(0,0,0,0) 8px 16px);
  box-shadow: 6px 6px 0 var(--shadow);
  display:grid;
  place-items:center;
}

/* ✅ Keep big frame size like before */
.charFrame.big{
  width: 220px;    /* ✅ original big */
  height: 220px;   /* ✅ original big */
}

/* ✅ NOW: MAKE ONLY THE MASCOT BIGGER (not the frame) */
.sprite{
  width: 140px;    /* was 120 */
  height: 140px;   /* was 120 */
  object-fit: contain;
  image-rendering: pixelated;
  transform: scale(1.08); /* ✅ makes it pop inside frame */
}

/* ✅ Toofi screen mascot BIGGER */
.sprite.big{
  width: 222px;    /* was 160 */
  height: 222px;   /* was 160 */
  object-fit: contain;
  image-rendering: pixelated;
  transform: scale(1.12); /* ✅ BIGGER character */
}

.charName{
  font-family:"Press Start 2P";
  font-size: 12px;
  padding: 6px 8px;
  border: 4px solid var(--border);
  background: #fff;
  box-shadow: 4px 4px 0 var(--shadow);
}

/* Layout columns (keep like before) */
.introGrid{
  display:grid;
  grid-template-columns: 260px 1fr;
  gap: 14px;
  align-items:start;
}
@media (max-width: 900px){
  .introGrid{ grid-template-columns: 1fr; }
}

.leftGrid{
  display:grid;
  grid-template-columns: 260px 1fr;
  gap: 14px;
}
@media (max-width: 980px){
  .leftGrid{ grid-template-columns: 1fr; }
}

/* inputs + dialog etc */
.fieldRow{
  display:grid;
  grid-template-columns: 1fr 1fr;
  gap: 10px;
}
@media (max-width: 700px){
  .fieldRow{ grid-template-columns: 1fr; }
}

.label{
  font-family:"Press Start 2P";
  font-size: 11px;
  margin-bottom: 6px;
}

.pxInput{
  width: 100%;
  padding: 10px 10px;
  border: 4px solid var(--border);
  background: #fff;
  font-family:"VT323";
  font-size: 18px;
  outline: none;
  box-shadow: 4px 4px 0 var(--shadow);
  border-radius: 0;
}

.dialog{
  margin-top: 10px;
  border: 5px solid var(--border);
  background: #fff;
  box-shadow: 6px 6px 0 var(--shadow);
}
.dialogName{
  font-family:"Press Start 2P";
  font-size: 11px;
  padding: 8px 10px;
  border-bottom: 5px solid var(--border);
  background: var(--cream);
}
.dialogText{
  padding: 10px 10px;
  font-size: 18px;
  line-height: 1.25;
}
.tiny{
  margin-top: 8px;
  font-size: 16px;
  opacity: 0.8;
}

.tag{
  display:inline-block;
  padding: 2px 6px;
  border: 3px solid var(--border);
  background: rgba(255,214,232,0.7);
  font-family:"Press Start 2P";
  font-size: 10px;
  margin-left: 6px;
}

.questList{
  margin-top: 10px;
  display:grid;
  gap: 10px;
}
.quest{
  border: 5px solid var(--border);
  background: rgba(255,255,255,0.92);
  box-shadow: 6px 6px 0 var(--shadow);
  padding: 10px;
  font-size: 18px;
}
.quest.warn{
  background: rgba(255,243,214,0.92);
}

.btnRow{
  margin-top: 12px;
  display:flex;
  gap: 10px;
  flex-wrap: wrap;
}

.settingsGrid{
  display:grid;
  grid-template-columns: 1fr 1fr;
  gap: 10px;
}
@media (max-width: 700px){
  .settingsGrid{ grid-template-columns: 1fr; }
}
.setting .two{
  display:grid;
  grid-template-columns: 1fr 1fr;
  gap: 8px;
}

.questLog{
  display:grid;
  gap: 10px;
}
.questRow{
  border: 5px solid var(--border);
  background: rgba(255,255,255,0.92);
  box-shadow: 6px 6px 0 var(--shadow);
  padding: 10px;
  display:flex;
  justify-content: space-between;
  gap: 10px;
  align-items:center;
}
.qTitle{
  font-family:"Press Start 2P";
  font-size: 11px;
}
.qMeta{
  font-size: 18px;
  opacity: 0.9;
  margin-top: 6px;
}
.questRow.now{ background: rgba(255,214,232,0.90); }
.questRow.soon{ background: rgba(255,243,214,0.90); }
.questRow.ok{ background: rgba(200,247,220,0.80); }